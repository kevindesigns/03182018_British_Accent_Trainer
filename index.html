<!doctype html>
<html class="no-js" lang="">

<title>Trainer</title>

<link rel="stylesheet" href="main.css">
<script type="text/javascript" src="jquery-1.10.2.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<link rel="icon" href="favicon.ico">

<body>

<div id="about">
    <div style="width:300;height:50">
        <br>
        <div style="float:left" > Trainer </div>
        <div style="float:right" > A bunch of text on line one <br>even more text on line two </div><br>

 <!-- main wavesurfer.js lib -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/2.0.5/plugin/wavesurfer.cursor.js"></script>

<div id="waveform"></div>
	    
<!-- wavesurfer javascript instance -->
<script>
    var wavesurfer = WaveSurfer.create({
    container: '#waveform',
    waveColor: 'violet',
    progressColor: 'purple'
    });
    var song = ('https://ia902606.us.archive.org/35/items/shortpoetry_047_librivox/song_cjrg_teasdale_64kb.mp3');
    wavesurfer.load(song);
    wavesurfer.on('ready', function () {wavesurfer.play();});
    </script>

<div id="wrapper">
    <div>
    <input type="button" class="againbutton" value = "?">
    </div>

    <!--Background Sound-->



    <!--Button Sound-->
    <script>
            function play(){
                 var audio = document.getElementById("audio");
                 audio.play();
                           }
             </script>
          
          <input type="button" class="againbutton" value="?"  onclick="play()">
          <audio id="audio" src="https://osh2030.s3.amazonaws.com/img/hover.mp3" ></audio>


    <!-- <div id="D4CMOM">d4c.mom</div> -->

	<div id="strategyBox"><p id="strategyText">

		<span class= "highlight"></span>
		<div id="blank"><span class= "highlight2">Say 'Okay' to start</span></div>
	</p>
	</div>
</div>

<!-- Speech -->

<div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
<script>

annyang.setLanguage('en-GB');


if (annyang) {
  // Let's define our first command. First the text we expect, and then the function it should call
  var commands = {
    'okay': function() {
        $(".againbutton").click();   
    }
    ,'please mind the gap between the train and the platform edge': function() {
        $(".againbutton").click();
    }
    ,'cheers mate': function() {
        $(".againbutton").click();
    }
    ,'have a cup of tea it will warm you up': function() {
        $(".againbutton").click();
    }
    ,'are you in the queue': function() {
        $(".againbutton").click();
    }
    ,'cheeky': function() {
        $(".againbutton").click();
    }
    ,'fancy a cup of tea': function() {
        $(".againbutton").click();
    }
    ,'Bloody hell': function() {
        $(".againbutton").click();
    }
    ,'go on give it a good slapping': function() {
        $(".againbutton").click();
    }
    ,'have you gone mad': function() {
        $(".againbutton").click();
    }
    ,'rubbish': function() {
        $(".againbutton").click();
    }
    ,'hang on a minute': function() {
        $(".againbutton").click();
    }
    ,'wanker': function() {
        $(".againbutton").click();
    }
    ,'What a load of poppycock': function() {
        $(".againbutton").click();
    }
    ,'unexpected item in the bagging area': function() {
        $(".againbutton").click();
    }
  };

  // Add our commands to annyang
  annyang.addCommands(commands);

  // Start listening. You can call this here, or attach this call to an event, button, etc.
  annyang.start();
}
</script>

</div>

<!-- After 5 phrases, show results page-->
<div>
    <script>
            $(".againbutton").ready(function(){
                var count = 0 ;
                $(".againbutton").click(function(){
                    count+=1;
                    if (count==10)
                        alert("You are: 32% British");
                });
            });
    </script>
</div>

<script>

    $(".againbutton").on("click",function(){

	    $("#strategyText").css("display", "block");
	    $("#blank").css("display", "none");
	});

    var localNameSpace = function() {
        var obliqueStrategy = [
            "Please mind the gap between the train and the platform edge"
            , "Unexpected item in the bagging area"
            , "Have a cup of tea. It'll warm you up"
            , "Are you in the queue?"
            , "Cheeky"
            , "Cheers mate!"
            , "Fancy a cup of tea?"
            , "Bloody hell!"
            , "Go on, give it a good slapping"
            , "Have you gone mad?"
            , "Rubbish!"
            , "Hang on a minute!"
            , "Wanker"
            , "What a load of poppycock!"

        ];
        
        var api = {
            bindButtonAction: function() {
                $('#wrapper .againbutton').click(api.generateRandomStrategy);
            }

            , generateRandomStrategy: function() {
                var randomOffset = Math.floor(Math.random() * 100) % obliqueStrategy.length;
                $('#wrapper #strategyBox #strategyText .highlight').html( obliqueStrategy[randomOffset] );
            }


        };
        
        return api;
    }();
    
    $(document).ready(function() {
        localNameSpace.bindButtonAction();
        localNameSpace.generateRandomStrategy();
    });
 </script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-101173379-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>    
